{"ast":null,"code":"import phoneList from \"../../Data/phoneList.json\";\nconst DEFAULT_STATE = {\n  selectedPhone: phoneList[0],\n  cartList: []\n};\nexport const phoneReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"SELECT_PHONE\":\n      {\n        state.selectedPhone = action.payload;\n        return { ...state\n        };\n      }\n\n    case \"ADD_TO_CART\":\n      {\n        // copy ra 1 array mới để tránh trùng địa chỉ vùng nhớ\n        const data = [...state.cartList];\n        const idx = data.findIndex(ele => ele.maSP === action.payload.maSP);\n\n        if (idx !== -1) {\n          data[idx].soLuong += 1;\n        } else {\n          data.push({ ...action.payload,\n            soLuong: 1\n          });\n        }\n\n        state.cartList = data;\n        return { ...state\n        };\n      }\n\n    case \"HANDLE_QUANTITY\":\n      {\n        const {\n          phone,\n          isIncrease\n        } = action.payload;\n        const data = [...state.cartList];\n        const idx = data.findIndex(ele => ele.maSP === phone.maSP);\n\n        if (idx === -1) {\n          alert(\"Không tìm thấy sản phẩm\");\n          throw new Error(\"Không tìm thấy sản phẩm\");\n        }\n\n        if (isIncrease) {\n          data[idx].soLuong += 1;\n        } else if (data[idx].soLuong > 1) {\n          data[idx].soLuong -= 1;\n        } else if (window.confirm(\"Bạn có muốn xoá ko ?\")) {\n          data.splice(idx, 1);\n        }\n\n        state.cartList = data;\n        return { ...state\n        };\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["phoneList","DEFAULT_STATE","selectedPhone","cartList","phoneReducer","state","action","type","payload","data","idx","findIndex","ele","maSP","soLuong","push","phone","isIncrease","alert","Error","window","confirm","splice"],"sources":["C:/Users/Hanh/Downloads/12-07-2022-06-56-00-bc29reactjs-8/bc29reactjs-8/src/Store/reducers/phoneReducer.js"],"sourcesContent":["import phoneList from \"../../Data/phoneList.json\";\n\nconst DEFAULT_STATE = {\n  selectedPhone: phoneList[0],\n  cartList: [],\n};\n\nexport const phoneReducer = (state = DEFAULT_STATE, action) => {\n  switch (action.type) {\n    case \"SELECT_PHONE\": {\n      state.selectedPhone = action.payload;\n\n      return { ...state };\n    }\n\n    case \"ADD_TO_CART\": {\n      // copy ra 1 array mới để tránh trùng địa chỉ vùng nhớ\n      const data = [...state.cartList];\n\n      const idx = data.findIndex((ele) => ele.maSP === action.payload.maSP);\n\n      if (idx !== -1) {\n        data[idx].soLuong += 1;\n      } else {\n        data.push({\n          ...action.payload,\n          soLuong: 1,\n        });\n      }\n\n      state.cartList = data;\n\n      return { ...state };\n    }\n\n    case \"HANDLE_QUANTITY\": {\n      const { phone, isIncrease } = action.payload;\n\n      const data = [...state.cartList];\n\n      const idx = data.findIndex((ele) => ele.maSP === phone.maSP);\n\n      if (idx === -1) {\n        alert(\"Không tìm thấy sản phẩm\");\n\n        throw new Error(\"Không tìm thấy sản phẩm\");\n      }\n\n      if (isIncrease) {\n        data[idx].soLuong += 1;\n      } else if (data[idx].soLuong > 1) {\n        data[idx].soLuong -= 1;\n      } else if (window.confirm(\"Bạn có muốn xoá ko ?\")) {\n        data.splice(idx, 1);\n      }\n\n      state.cartList = data;\n\n      return { ...state };\n    }\n\n    default:\n      return state;\n  }\n};\n"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,2BAAtB;AAEA,MAAMC,aAAa,GAAG;EACpBC,aAAa,EAAEF,SAAS,CAAC,CAAD,CADJ;EAEpBG,QAAQ,EAAE;AAFU,CAAtB;AAKA,OAAO,MAAMC,YAAY,GAAG,YAAmC;EAAA,IAAlCC,KAAkC,uEAA1BJ,aAA0B;EAAA,IAAXK,MAAW;;EAC7D,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,cAAL;MAAqB;QACnBF,KAAK,CAACH,aAAN,GAAsBI,MAAM,CAACE,OAA7B;QAEA,OAAO,EAAE,GAAGH;QAAL,CAAP;MACD;;IAED,KAAK,aAAL;MAAoB;QAClB;QACA,MAAMI,IAAI,GAAG,CAAC,GAAGJ,KAAK,CAACF,QAAV,CAAb;QAEA,MAAMO,GAAG,GAAGD,IAAI,CAACE,SAAL,CAAgBC,GAAD,IAASA,GAAG,CAACC,IAAJ,KAAaP,MAAM,CAACE,OAAP,CAAeK,IAApD,CAAZ;;QAEA,IAAIH,GAAG,KAAK,CAAC,CAAb,EAAgB;UACdD,IAAI,CAACC,GAAD,CAAJ,CAAUI,OAAV,IAAqB,CAArB;QACD,CAFD,MAEO;UACLL,IAAI,CAACM,IAAL,CAAU,EACR,GAAGT,MAAM,CAACE,OADF;YAERM,OAAO,EAAE;UAFD,CAAV;QAID;;QAEDT,KAAK,CAACF,QAAN,GAAiBM,IAAjB;QAEA,OAAO,EAAE,GAAGJ;QAAL,CAAP;MACD;;IAED,KAAK,iBAAL;MAAwB;QACtB,MAAM;UAAEW,KAAF;UAASC;QAAT,IAAwBX,MAAM,CAACE,OAArC;QAEA,MAAMC,IAAI,GAAG,CAAC,GAAGJ,KAAK,CAACF,QAAV,CAAb;QAEA,MAAMO,GAAG,GAAGD,IAAI,CAACE,SAAL,CAAgBC,GAAD,IAASA,GAAG,CAACC,IAAJ,KAAaG,KAAK,CAACH,IAA3C,CAAZ;;QAEA,IAAIH,GAAG,KAAK,CAAC,CAAb,EAAgB;UACdQ,KAAK,CAAC,yBAAD,CAAL;UAEA,MAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;QACD;;QAED,IAAIF,UAAJ,EAAgB;UACdR,IAAI,CAACC,GAAD,CAAJ,CAAUI,OAAV,IAAqB,CAArB;QACD,CAFD,MAEO,IAAIL,IAAI,CAACC,GAAD,CAAJ,CAAUI,OAAV,GAAoB,CAAxB,EAA2B;UAChCL,IAAI,CAACC,GAAD,CAAJ,CAAUI,OAAV,IAAqB,CAArB;QACD,CAFM,MAEA,IAAIM,MAAM,CAACC,OAAP,CAAe,sBAAf,CAAJ,EAA4C;UACjDZ,IAAI,CAACa,MAAL,CAAYZ,GAAZ,EAAiB,CAAjB;QACD;;QAEDL,KAAK,CAACF,QAAN,GAAiBM,IAAjB;QAEA,OAAO,EAAE,GAAGJ;QAAL,CAAP;MACD;;IAED;MACE,OAAOA,KAAP;EAtDJ;AAwDD,CAzDM"},"metadata":{},"sourceType":"module"}