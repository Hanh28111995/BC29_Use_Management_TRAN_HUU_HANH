{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hanh\\\\Downloads\\\\12-07-2022-06-56-00-bc29reactjs-8\\\\bc29reactjs-8\\\\src\\\\Components\\\\BaiTapProps\\\\BaiTapDienThoai\\\\BaiTapDienThoai.jsx\";\nimport React, { Component } from \"react\";\nimport phoneList from \"../../../Data/phoneList.json\";\nimport ChiTietSanPham from \"./ChiTietSanPham\";\nimport DanhSachDienThoai from \"./DanhSachDienThoai\";\nimport DienThoai from \"./DienThoai\";\nimport GioHang from \"./GioHang\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class BaiTapDienThoai extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      selectedPhone: phoneList[0],\n      cartList: []\n    };\n\n    this.selectPhone = phone => {\n      console.log(phone);\n      this.setState({\n        selectedPhone: phone\n      });\n    };\n\n    this.addToCart = phone => {\n      // this.state.cartList.push(phone);\n      const data = [...this.state.cartList];\n      const idx = data.findIndex(ele => ele.maSP === phone.maSP);\n\n      if (idx !== -1) {\n        data[idx].soLuong += 1;\n      } else {\n        data.push({ ...phone,\n          soLuong: 1\n        });\n      }\n\n      this.setState({\n        cartList: data\n      }, () => {\n        console.log(this.state.cartList);\n      });\n    };\n\n    this.handleQuantity = (phone, isIncrease) => {\n      const data = [...this.state.cartList];\n      const idx = data.findIndex(ele => ele.maSP === phone.maSP); // if (idx !== -1) {\n      //   if (isIncrease) {\n      //     data[idx].soLuong += 1;\n      //   } else {\n      //     if (data[idx].soLuong > 1) {\n      //       data[idx].soLuong -= 1;\n      //     } else if (window.confirm(\"Bạn có muốn xoá ko ?\")) {\n      //       data.splice(idx, 1);\n      //     }\n      //   }\n      // }\n\n      if (idx === -1) {\n        alert(\"Không tìm thấy sản phẩm\");\n        throw new Error(\"Không tìm thấy sản phẩm\");\n      }\n\n      if (isIncrease) {\n        data[idx].soLuong += 1;\n      } else if (data[idx].soLuong > 1) {\n        data[idx].soLuong -= 1;\n      } else if (window.confirm(\"Bạn có muốn xoá ko ?\")) {\n        data.splice(idx, 1);\n      }\n\n      this.setState({\n        cartList: data\n      });\n    };\n  }\n\n  render() {\n    console.log(\"BaiTapDienThoai render...\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(GioHang, {\n        handleQuantity: this.handleQuantity,\n        cartList: this.state.cartList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DanhSachDienThoai, {\n        addToCart: this.addToCart,\n        selectPhone: this.selectPhone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChiTietSanPham, {\n        selectedPhone: this.state.selectedPhone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","phoneList","ChiTietSanPham","DanhSachDienThoai","DienThoai","GioHang","BaiTapDienThoai","state","selectedPhone","cartList","selectPhone","phone","console","log","setState","addToCart","data","idx","findIndex","ele","maSP","soLuong","push","handleQuantity","isIncrease","alert","Error","window","confirm","splice","render"],"sources":["C:/Users/Hanh/Downloads/12-07-2022-06-56-00-bc29reactjs-8/bc29reactjs-8/src/Components/BaiTapProps/BaiTapDienThoai/BaiTapDienThoai.jsx"],"sourcesContent":["import React, { Component } from \"react\";\n\nimport phoneList from \"../../../Data/phoneList.json\";\nimport ChiTietSanPham from \"./ChiTietSanPham\";\nimport DanhSachDienThoai from \"./DanhSachDienThoai\";\nimport DienThoai from \"./DienThoai\";\nimport GioHang from \"./GioHang\";\n\nexport default class BaiTapDienThoai extends Component {\n  state = {\n    selectedPhone: phoneList[0],\n    cartList: [],\n  };\n\n  selectPhone = (phone) => {\n    console.log(phone);\n    this.setState({\n      selectedPhone: phone,\n    });\n  };\n\n  addToCart = (phone) => {\n    // this.state.cartList.push(phone);\n    const data = [...this.state.cartList];\n\n    const idx = data.findIndex((ele) => ele.maSP === phone.maSP);\n\n    if (idx !== -1) {\n      data[idx].soLuong += 1;\n    } else {\n      data.push({\n        ...phone,\n        soLuong: 1,\n      });\n    }\n\n    this.setState(\n      {\n        cartList: data,\n      },\n      () => {\n        console.log(this.state.cartList);\n      }\n    );\n  };\n\n  handleQuantity = (phone, isIncrease) => {\n    const data = [...this.state.cartList];\n\n    const idx = data.findIndex((ele) => ele.maSP === phone.maSP);\n\n    // if (idx !== -1) {\n    //   if (isIncrease) {\n    //     data[idx].soLuong += 1;\n    //   } else {\n    //     if (data[idx].soLuong > 1) {\n    //       data[idx].soLuong -= 1;\n    //     } else if (window.confirm(\"Bạn có muốn xoá ko ?\")) {\n    //       data.splice(idx, 1);\n    //     }\n    //   }\n    // }\n\n    if (idx === -1) {\n      alert(\"Không tìm thấy sản phẩm\");\n\n      throw new Error(\"Không tìm thấy sản phẩm\");\n    }\n\n    if (isIncrease) {\n      data[idx].soLuong += 1;\n    } else if (data[idx].soLuong > 1) {\n      data[idx].soLuong -= 1;\n    } else if (window.confirm(\"Bạn có muốn xoá ko ?\")) {\n      data.splice(idx, 1);  \n    }\n\n    this.setState({\n      cartList: data,\n    });\n  };\n\n  render() {\n    console.log(\"BaiTapDienThoai render...\")\n\n    return (\n      <div className=\"container\">\n        <GioHang\n          handleQuantity={this.handleQuantity}\n          cartList={this.state.cartList}\n        />\n        <DanhSachDienThoai\n          addToCart={this.addToCart}\n          selectPhone={this.selectPhone}\n        />\n        <ChiTietSanPham selectedPhone={this.state.selectedPhone} />\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}